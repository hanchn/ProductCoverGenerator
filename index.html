<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>产品封面生成器</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Open+Sans:wght@400;700&family=Lato:wght@400;700&family=Montserrat:wght@400;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>模板选择</h2>
            <div class="template-list" id="templateList"></div>
            <button id="exportBtn" class="export-btn">导出图片</button>
        </div>
        
        <div class="main-content">
            <canvas id="canvas"></canvas>
        </div>
        
        <div id="editPanel" class="edit-panel">
            <div class="edit-panel-header">
                <h3>编辑元素</h3>
                <button id="closeEditPanel">×</button>
            </div>
            
            <!-- 文本编辑区 -->
            <div id="textEditSection" class="edit-section">
                <div class="edit-group">
                    <label>文本内容</label>
                    <input type="text" id="textContent" placeholder="输入文本">
                </div>
                <div class="edit-group">
                    <label>字体</label>
                    <select id="fontFamily">
                        <option value="Roboto">Roboto</option>
                        <option value="Open Sans">Open Sans</option>
                        <option value="Lato">Lato</option>
                        <option value="Montserrat">Montserrat</option>
                        <option value="Poppins">Poppins</option>
                    </select>
                </div>
                <div class="edit-group">
                    <label>字体大小</label>
                    <input type="range" id="fontSize" min="12" max="120" value="24">
                    <span id="fontSizeValue">24px</span>
                </div>
                <div class="edit-group">
                    <label>字体颜色</label>
                    <input type="color" id="fontColor">
                </div>
                <div class="edit-group">
                    <label>字体粗细</label>
                    <select id="fontWeight">
                        <option value="normal">正常</option>
                        <option value="bold">粗体</option>
                    </select>
                </div>
                <div class="edit-group">
                    <label>文字阴影</label>
                    <div class="shadow-controls">
                        <input type="range" id="shadowBlur" min="0" max="10" value="2">
                        <input type="range" id="shadowOffsetX" min="-10" max="10" value="2">
                        <input type="range" id="shadowOffsetY" min="-10" max="10" value="2">
                        <input type="color" id="shadowColor" value="#000000">
                    </div>
                </div>
                <div class="edit-group">
                    <label>背景颜色</label>
                    <input type="color" id="backgroundColor" value="#ffffff">
                    <div class="opacity-control">
                        <label>透明度</label>
                        <input type="range" id="backgroundOpacity" min="0" max="100" value="100">
                        <span id="opacityValue">100%</span>
                    </div>
                </div>
            </div>
            
            <!-- 图片编辑区 -->
            <div id="imageEditSection" class="edit-section">
                <div class="edit-group">
                    <label>上传图片</label>
                    <input type="file" id="imageUpload" accept="image/*">
                </div>
                <div class="edit-group">
                    <label>图片尺寸</label>
                    <div class="size-controls">
                        <input type="number" id="imageWidth" placeholder="宽度">
                        <input type="number" id="imageHeight" placeholder="高度">
                        <label class="checkbox-label">
                            <input type="checkbox" id="maintainAspectRatio" checked>
                            保持比例
                        </label>
                    </div>
                </div>
                <div class="edit-group">
                    <label>圆角</label>
                    <input type="range" id="imageBorderRadius" min="0" max="50" value="20">
                    <span id="borderRadiusValue">20px</span>
                </div>
                <div class="edit-group">
                    <label>阴影</label>
                    <div class="shadow-controls">
                        <input type="range" id="imageShadowBlur" min="0" max="50" value="20">
                        <input type="range" id="imageShadowOffsetX" min="-20" max="20" value="0">
                        <input type="range" id="imageShadowOffsetY" min="-20" max="20" value="20">
                        <input type="color" id="imageShadowColor" value="#000000">
                    </div>
                </div>
                <div class="edit-group">
                    <label>智能配色</label>
                    <div class="color-palette" id="colorPalette"></div>
                    <button id="applyColorPalette" class="secondary-btn">应用配色方案</button>
                </div>
            </div>

            <!-- 形状编辑区 -->
            <div id="shapeEditSection" class="edit-section">
                <div class="edit-group">
                    <label>形状类型</label>
                    <select id="shapeType">
                        <option value="circle">圆形</option>
                        <option value="rectangle">矩形</option>
                    </select>
                </div>
                <div class="edit-group">
                    <label>颜色</label>
                    <input type="color" id="shapeColor">
                    <div class="opacity-control">
                        <label>透明度</label>
                        <input type="range" id="shapeOpacity" min="0" max="100" value="100">
                        <span id="shapeOpacityValue">100%</span>
                    </div>
                </div>
                <div class="edit-group">
                    <label>尺寸</label>
                    <div class="size-controls">
                        <input type="number" id="shapeWidth" placeholder="宽度">
                        <input type="number" id="shapeHeight" placeholder="高度">
                    </div>
                </div>
                <div class="edit-group">
                    <label>圆角</label>
                    <input type="range" id="shapeBorderRadius" min="0" max="100" value="0">
                    <span id="shapeBorderRadiusValue">0px</span>
                </div>
                <div class="edit-group">
                    <label>阴影</label>
                    <div class="shadow-controls">
                        <input type="range" id="shapeShadowBlur" min="0" max="50" value="0">
                        <input type="range" id="shapeShadowOffsetX" min="-20" max="20" value="0">
                        <input type="range" id="shapeShadowOffsetY" min="-20" max="20" value="0">
                        <input type="color" id="shapeShadowColor" value="#000000">
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 先加载 ColorThief -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.2/color-thief.umd.js"></script>
    
    <!-- 加载主应用入口 -->
    <script type="module" src="app.js"></script>
</body>
</html> 